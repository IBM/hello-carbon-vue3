import{c as O,d as R,r as k,s as z,l as L,_ as j,u as U,a as F,b as I,e as d,o as _,q as w,j as s,n as G,g as o,i as l,B as H,t as m,F as x,x as M,y as $,m as q,f as v,w as a,v as V,h as A}from"./index.3ef224f2.js";import{p as D}from"./bug-placeholder.cb217ab1.js";var S=O(S,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",width:32,height:32},[{elem:"path",attrs:{d:"M12,10H24.1851L20.5977,6.4141,22,5,28,11,22,17l-1.4023-1.4146L24.1821,12H12a6,6,0,0,0,0,12h8v2H12a8,8,0,0,1,0-16Z"}}]);const E="http://acnhapi.com",T=E+"/v1/bugs",K=R("bugs",()=>{const e=k([]);async function g(u=!1){if(u||e.value.length===0){const n=await z.get(T),r=Object.keys(n.body),c=[];for(let i=0;i<r.length;i++){const t=r[i];c.push({key:t,...n.body[t]})}e.value=L.exports.shuffle(c)}}return{bugs:e,loadBugs:g}});const P=e=>(M("data-v-bc1e1ec9"),e=e(),$(),e),Z={class:"bug-card"},J={class:"bug-card-front"},Q={class:"bug-card-back"},W={class:"bug-card__name"},X={class:"bug-card__museum"},Y=P(()=>s("div",null,null,-1)),ee={__name:"BugCard",props:{bug:{type:Object,required:!0}},setup(e){const g=e,{t:u}=U(),n=k(!1);function r(){n.value=!n.value}const c=F(),i=I(()=>{const b="name-"+c.languageObject.api;return g.bug.name[b]||g.bug.key}),t={Common:"gray",Uncommon:"green",Rare:"purple","Ultra-rare":"magenta"},p=I(()=>{var b;return t[(b=g.bug.availability)==null?void 0:b.rarity]||"gray"});return(b,f)=>{const B=d("cv-tag"),h=d("cv-icon-button");return _(),w(x,null,[s("div",Z,[s("div",{class:G(["bug-card-inner",{"bug-card-flip":n.value}])},[s("div",J,[s("div",null,[o(H,{src:e.bug.icon_uri,alt:e.bug.key,"src-placeholder":l(D),"bug-card__image":""},null,8,["src","alt","src-placeholder"])]),s("div",null,[o(B,{label:l(u)(e.bug.availability.rarity),kind:l(p)},null,8,["label","kind"])]),o(h,{kind:"ghost",size:"sm",icon:l(S),label:l(u)("flip"),"tip-position":"left",class:"bug-card__button",onClick:r},null,8,["icon","label"])]),s("div",Q,[s("div",W,m(l(i)),1),s("div",X,m(e.bug["museum-phrase"]),1),o(h,{kind:"ghost",size:"sm",icon:l(S),label:l(u)("flip"),"tip-position":"left",class:"bug-card__button",onClick:r},null,8,["icon","label"])])],2)]),Y],64)}}},te=j(ee,[["__scopeId","data-v-bc1e1ec9"]]);const ae={class:"title"},oe={__name:"BugsView",setup(e){const{t:g}=U(),u=K(),n=k(!1),r=k({});return q(()=>{n.value=!0;try{u.loadBugs().finally(()=>{const c=L.exports.groupBy(u.bugs,"availability.location"),i=Object.keys(c);r.value=i.map(t=>({location:t,bugs:c[t]})),n.value=!1})}catch{console.error("error loading bugs from API")}}),(c,i)=>{const t=d("cv-column"),p=d("cv-row"),b=d("cv-accordion-skeleton"),f=d("cv-grid"),B=d("cv-accordion-item"),h=d("cv-accordion");return _(),v(f,null,{default:a(()=>[o(p,null,{default:a(()=>[o(t,null,{default:a(()=>[s("div",ae,m(l(g)("bugs")),1)]),_:1})]),_:1}),o(p,null,{default:a(()=>[o(t,null,{default:a(()=>[n.value?(_(),v(b,{key:0})):(_(),v(h,{key:1},{default:a(()=>[(_(!0),w(x,null,V(r.value,(y,N)=>(_(),v(B,{key:`bug-group-${y.location}`,open:N===0},{title:a(()=>[A(m(y.location)+" ("+m(y.bugs.length)+") ",1)]),content:a(()=>[o(f,{"full-width":!0},{default:a(()=>[o(p,null,{default:a(()=>[(_(!0),w(x,null,V(y.bugs,C=>(_(),v(t,{lg:4,key:C.key},{default:a(()=>[o(te,{bug:C},null,8,["bug"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]))),128))]),_:1}))]),_:1})]),_:1})]),_:1})}}},ce=j(oe,[["__scopeId","data-v-2c5a90bb"]]);export{ce as default};
